<!DOCTYPE html>
<html lang="pl-PL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <script type="text/javascript" src="./data.js"></script>

    <script type="text/javascript" src="./Scripts/base.js"></script>

    <script type="text/javascript" src="./Scripts/Classes/DataManipulator.js"></script>
    <script type="text/javascript" src="./Scripts/Classes/Manager.js"></script>
    <script type="text/javascript" src="./Scripts/Classes/Action.js"></script>

    <!-- VIEWS -->

    <script type="text/javascript" src="./Scripts/View/Columns/Column.js"></script>
    <script type="text/javascript" src="./Scripts/View/Columns/ColumnAction.js"></script>
    <script type="text/javascript" src="./Scripts/View/Columns/ColumnActive.js"></script>
    <script type="text/javascript" src="./Scripts/View/Columns/ColumnCounter.js"></script>
    <script type="text/javascript" src="./Scripts/View/Columns/ColumnCustom.js"></script>
    <script type="text/javascript" src="./Scripts/View/Columns/ColumnField.js"></script>
    <script type="text/javascript" src="./Scripts/View/Columns/Group.js"></script>

    <script type="text/javascript" src="./Scripts/View/Table.js"></script>
    <script type="text/javascript" src="./Scripts/View/View.js"></script>
    <script type="text/javascript" src="./Scripts/View/ViewManager.js"></script>

    
    <!-- FORMS -->

    <script type="text/javascript" src="./Scripts/Form/Questions/Answer.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/Question.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/ComplexQuestion.js"></script>

    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionText.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionParagraph.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionCheckbox.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionColor.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionDate.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionFile.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionMultiSelect.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionNumber.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionRadio.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionRange.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionSelect.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionObject.js"></script>
    <script type="text/javascript" src="./Scripts/Form/Questions/QuestionMultiObject.js"></script>
    

    <script type="text/javascript" src="./Scripts/Form/Form.js"></script>
    <script type="text/javascript" src="./Scripts/Form/FormManager.js"></script>
    
    <script type="text/javascript" src="./Scripts/main.js"></script>

    <script id="views" type="application/xml">

    <Views>
        <View Name="users" Title="Użytkownicy" DataType="Column">
            <Description>
                Przykładowa tabela z użytkownikami.
            </Description>
            <Data>data.users</Data>
            <Group Title="Grupa">
                <Column Type="Counter" StartFrom="1">
                    <Title>lp.</Title>
                </Column>
                <Column Type="Active">
                    <Title>X</Title>
                </Column>
            </Group>
            <Column Key="identifier">
                
            </Column>
            <Column Type="Custom">
                <Title>Imię i nazwisko</Title>
                <!-- HardSpaces = false (domyślnie) powoduje ignorowanie spacji jeśli są -->
                <Each Using="$ = firstname, @ = lastname" HardSpaces="false">
                    $ @
                </Each>
            </Column>
            <Column Type="Custom">
                <Title>Ekwipunek</Title>
                <Each Using="$=inventory">
                    <Table>
                        <Data>$</Data>
                        <Column Type="Field" Key="label">
                            <Title>Przedmiot</Title>
                        </Column>
                        <Column Type="Field" Key="count">
                            <Title>Ilość</Title>
                        </Column>
                    </Table>
                </Each>
            </Column>
            <Column Type="Action">
                <Title>Akcje</Title>
                <Button Action="index => formManager.GetByName('creator').Edit(index)">Edytuj</Button>
                <Button Action="console.log">Usuń</Button>
            </Column>
        </View>
    </Views>

    </script>

    <script id="forms" type="application/xml">
    <Forms>
        <Form Name="creator" Title="Konfiguracja postaci" Editable="true" ConnectedView="viewManager.GetByName('users');">
            <Description>
                Skonfiguruj postać
            </Description>
            <Data>data.users</Data>
            <Question Key="Name" Type="Text" Required="true">
                <Title>Imię</Title>
            </Question>
            <Question Key="LastName" Type="Text" Required="true">
                <Title>Nazwisko</Title>
            </Question>
            <Question Key="Height" Type="Range" Min="160" Max="200" Step="0.1">
                <Title>Wzrost</Title>
            </Question>
            <Question Key="Sex" Type="Radio" Required="true">
                <Description>Biologiczna płeć</Description>
                <Title>Płeć</Title>
                <Answers Default="m">
                    <Answer Value="m">Mężczyzna</Answer>
                    <Answer Value="k">
                        <span style="color:#f00;">Kobieta</span>
                    </Answer>
                </Answers>
            </Question>
            <Question Key="Job" Type="Select" Placeholder="Aa..." Required="true">
                <Title>Praca</Title>
                <Answers>
                    <Answer Value="police">Policjant</Answer>
                    <Answer Value="mecano">Mechanik</Answer>
                    <Answer Value="ems">Medyk</Answer>
                </Answers>
            </Question>
            <Question Key="Country" Type="MultiSelect" Placeholder="Aa..." Required="true">
                <Title>Obywatelstwo</Title>
                <Answers Order="Descending">
                    <Answer Value="pl">Polskie</Answer>
                    <Answer Value="us">Amerykańskie</Answer>
                    <Answer Value="fr">Francuskie</Answer>
                    <Answer Value="en">Brytyjskie</Answer>
                    <Answer Value="sp">Hiszpańskie</Answer>
                    <Answer Value="ch">Chińskie</Answer>
                </Answers>
            </Question>
            <Question Key="DateOfBirth" Type="Date" Required="true">
                <Title>Data urodzenia</Title>
            </Question>
            <Question Key="FavColor" Type="Color" Default="#ff0000" Required="true">
                <Title>Ulubiony kolor</Title>
            </Question>
            <Question Key="History" Type="Paragraph" MinLength="1" Required="true">
                <Title>Historia postaci</Title>
            </Question>
            <Question Key="Photo" Type="File" Required="true">
                <Title>Zdjęcie</Title>
            </Question>
            <Question Key="Accept" Type="Checkbox" Default="true" Required="true">
                <Title>Akceptuję warunki taniej siły roboczej</Title>
            </Question>
            <Question Key="Template" Type="Object" Source="data.users" KeyLabel="identifier">
                <Title>Wzorzec</Title>
            </Question>
            <Question Key="inventory" Type="MultiObject" Source="data.users" KeyLabel="identifier">
                <Title>Dzieci</Title>
            </Question>
            <!-- Independent -->
            <Actions>
                <Button Type="Clear"></Button>
                <Button Action="log">Sprawdź</Button>
                <Button Type="Submit">Dodaj</Button>
            </Actions>
        </Form>
    </Forms>
    </script>


    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
    </style>
</head>
<body onload="LoadQFormView();">
    <div id="creator"></div>
    <div id="users"></div>
</body>
</html>